# Task Management System

## Описание задачи

Вам необходимо разработать простую систему управления задачами (Task Management System) с использованием Java и Spring.  
Система должна обеспечивать создание, редактирование, удаление и просмотр задач.  

## Функциональные требования

1. **Управление задачами**:
   - Задачи должны содержать:
     - Заголовок,
     - Описание,
     - Статус (например, "в ожидании", "в процессе", "завершено"),
     - Приоритет (например, "высокий", "средний", "низкий"),
     - Комментарии,
     - Автора и исполнителя.
   - Возможность:
     - Создавать новые задачи,
     - Редактировать существующие задачи,
     - Удалять задачи,
     - Просматривать задачи.

2. **Роли пользователей**:
   - **Администратор**:
     - Может управлять всеми задачами (создание, редактирование, удаление, назначение исполнителей, изменение статусов и приоритетов).
   - **Пользователь**:
     - Может управлять только задачами, назначенными ему как исполнителю (изменение статуса, добавление комментариев).

3. **API**:
   - Получение списка задач с фильтрацией и пагинацией.
   - Получение задач по автору или исполнителю.
   - Получение всех комментариев к задаче.
   - Удаление задачи.
   - Добавление новой задачи.
   - Редактирование существующей задачи.

4. **Аутентификация и авторизация**:
   - Аутентификация по email и паролю.
   - Авторизация через JWT токен.

## Структура базы данных

### Таблица: `comments`

| Колонка      | Тип данных | Описание                                |
|--------------|------------|-----------------------------------------|
| `id`         | BIGINT     | Уникальный идентификатор комментария    |
| `author_id`  | BIGINT     | Идентификатор автора комментария        |
| `task_id`    | BIGINT     | Идентификатор задачи                    |
| `created_at` | DATETIME   | Время создания комментария              |
| `updated_at` | DATETIME   | Время последнего обновления комментария |
| `text`       | VARCHAR    | Текст комментария                       |

### Таблица: `priorities`

| Колонка      | Тип данных | Описание                               |
|--------------|------------|----------------------------------------|
| `id`         | BIGINT     | Уникальный идентификатор приоритета    |
| `created_at` | DATETIME   | Время создания приоритета              |
| `updated_at` | DATETIME   | Время последнего обновления приоритета |
| `priority`   | ENUM       | Приоритет задачи                       |

### Таблица: `roles`

| Колонка      | Тип данных | Описание                                   |
|--------------|------------|--------------------------------------------|
| `id`         | BIGINT     | Уникальный идентификатор роли              |
| `created_at` | DATETIME   | Время создания роли                        |
| `updated_at` | DATETIME   | Время последнего обновления роли           |
| `role`       | ENUM       | Роль пользователя (админ или пользователь) |

### Таблица: `statuses`

| Колонка      | Тип данных | Описание                            |
|--------------|------------|-------------------------------------|
| `id`         | BIGINT     | Уникальный идентификатор статуса    |
| `created_at` | DATETIME   | Время создания статуса              |
| `updated_at` | DATETIME   | Время последнего обновления статуса |
| `status`     | ENUM       | Статус задачи                       |

### Таблица: `tasks`

| Колонка      | Тип данных | Описание                           |
|--------------|------------|------------------------------------|
| `id`         | BIGINT     | Уникальный идентификатор задачи    |
| `assignee_id`| BIGINT     | Идентификатор исполнителя задачи   |
| `author_id`  | BIGINT     | Идентификатор автора задачи        |
| `created_at` | DATETIME   | Время создания задачи              |
| `updated_at` | DATETIME   | Время последнего обновления задачи |
| `description`| VARCHAR    | Описание задачи                    |
| `priority_id`| BIGINT     | Идентификатор приоритета задачи    |
| `status_id`  | BIGINT     | Идентификатор статуса задачи       |

### Таблица: `users`

| Колонка      | Тип данных | Описание                                 |
|--------------|------------|------------------------------------------|
| `id`         | BIGINT     | Уникальный идентификатор пользователя    |
| `created_at` | DATETIME   | Время создания пользователя              |
| `updated_at` | DATETIME   | Время последнего обновления пользователя |
| `email`      | VARCHAR    | Email пользователя                       |
| `name`       | VARCHAR    | Имя пользователя                         |
| `password`   | VARCHAR    | Пароль пользователя                      |

### Таблица: `users_authorities`

| Колонка          | Тип данных | Описание                          |
|------------------|------------|-----------------------------------|
| `authorities_id` | BIGINT     | Идентификатор роли                |
| `user_id`        | BIGINT     | Идентификатор пользователя        |

## Доступ к документации API

Документация по работе с API доступна через интерфейс Swagger. Для доступа к Swagger UI откройте браузер и перейдите по следующему адресу:

http://localhost:<PORT>/swagger-ui/index.html

Где `<PORT>` — это порт, на котором работает ваше приложение. По умолчанию приложение работает на порту 8080.

В Swagger UI вы сможете просматривать доступные endpoints, отправлять запросы и тестировать API.

## Начало работы

Вы можете запустить приложение локально или с использованием Docker. Убедитесь, что Docker Desktop установлен на вашем компьютере для обоих методов.

### Локальный запуск

1. **Клонировать репозиторий**
   ```bash
   git clone https://github.com/notAckerman/effective-mobile-task/tree/564be413adb386d01d196e3f14389ff243ab9272
   ```
2. **Запустить проект**
   Откройте терминал в директории проекта и выполните команду:
   ```bash
   docker-compose up -d
   ```
3. **Получить доступ к документации**
   Перейдите по адресу http://localhost:8888/swagger-ui/index.html для просмотра документации по API.
